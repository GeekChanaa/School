<h1 mat-dialog-title>Add Grades By Student</h1>

<form #loginForm="ngForm" class="" (ngSubmit)="create()">
    <div mat-dialog-content>
        <p>
            <mat-form-field appearance="fill">
                <mat-label>Student</mat-label>
                <mat-select name="moduleId" [(ngModel)]="model.studentID"> 
                <mat-option (onSelectionChange)="change($event)" *ngFor="let student of students" [value]="student.id">
                    {{student.firstName}}
                </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <div>
            <div *ngFor="let module of modules">
                {{module.title}}
                <p *ngFor="let subject of module.subjects">
                    <mat-form-field appearance="legacy">
                    <mat-label>{{subject.title}}</mat-label>
                    <input matInput name="studentGrades" [(ngModel)]="studentGrades[subject.id]" placeholder="Value">
                    </mat-form-field>
                </p>
            </div>
        </div>

    </div>
    <div mat-dialog-actions>
    <button mat-dialog-close mat-button type="submit">Save</button>
    <button mat-dialog-close mat-button type="button">Close</button>
    </div>
</form>
